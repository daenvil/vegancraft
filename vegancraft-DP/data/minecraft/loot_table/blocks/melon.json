{
	"type": "block",
	"pools": [
		{
			"rolls": 1,
			"entries": [
				{
					"type": "alternatives",
					"children": [
						{
							"type": "item",
							"conditions": [
								{
									"condition": "match_tool",
									"predicate": {
										"predicates": {
											"minecraft:enchantments": [
												{
													"enchantments": "minecraft:silk_touch",
													"levels": {
														"min": 1
													}
												}
											]
										}
									}
								}
							],
							"weight": 1,
							"name": "minecraft:melon"
						},
						{
							"type": "item",
							"weight": 1,
							"functions": [
								{
									"function": "set_count",
									"count": {
										"min": 3,
										"max": 7
									}
								},
								{
									"function": "apply_bonus",
									"enchantment": "minecraft:fortune",
									"formula": "uniform_bonus_count",
									"parameters": {
										"bonusMultiplier": 1
									}
								},
								{
									"function": "limit_count",
									"limit": {
										"max": 9
									}
								},
								{
									"function": "explosion_decay"
								}
							],
							"name": "minecraft:melon_slice"
						}
					]
				}
			]
		},
		{
			"rolls": 1,
			"entries": [
				{
					"type": "item",
					"conditions": [
						{
							"condition": "any_of",
							"terms": [
								{
									"condition": "value_check",
									"value": {
										"type": "score",
										"target": {
											"type": "fixed",
											"name": "#dnv"
										},
										"score": "dnv.xp_from_crops_require_player"
									},
									"range": 0
								},
								{
									"condition": "all_of",
									"terms": [
										{
											"condition": "entity_properties",
											"entity": "this",
											"predicate": {

											}
										},
										{
											"condition": "entity_scores",
											"entity": "this",
											"scores": {
												"dnv.xp_nerfer": {
													"min": 0,
													"max": {
														"min": 200,
														"max": 500
													}
												}
											}
										}
									]
								}
							]
						},
						{
							"condition": "value_check",
							"value": {
								"type": "score",
								"target": {
									"type": "fixed",
									"name": "#dnv"
								},
								"score": "dnv.xp_from_crops_disabled"
							},
							"range": 0
						},
						{
							"condition": "any_of",
							"terms": [
								{
									"condition": "location_check",
									"predicate": {
										"block": {
											"blocks": "melon_stem"
										}
									},
									"offsetX": -1
								},
								{
									"condition": "location_check",
									"predicate": {
										"block": {
											"blocks": "melon_stem"
										}
									},
									"offsetX": 1
								},
								{
									"condition": "location_check",
									"predicate": {
										"block": {
											"blocks": "melon_stem"
										}
									},
									"offsetZ": -1
								},
								{
									"condition": "location_check",
									"predicate": {
										"block": {
											"blocks": "melon_stem"
										}
									},
									"offsetZ": 1
								}
							]
						},
						{
							"condition": "random_chance",
							"chance": 0.2
						}
					],
					"weight": 1,
					"functions": [
						{
							"function": "set_components",
							"components": {
								"custom_data": {
									"dnv.xp_orb": true
								}
							}
						},
						{
							"function": "set_count",
							"count": {
								"type": "score",
								"target": {
									"type": "fixed",
									"name": "#dnv"
								},
								"score": "dnv.xp_from_crops_multiplier"
							}
						}
					],
					"name": "emerald"
				}
			]
		}
	],
	"random_sequence": "minecraft:blocks/melon"
}